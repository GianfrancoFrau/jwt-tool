<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JWT Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <h1>JWT Encoder / Decoder</h1>
      <div class="tab-bar" role="tablist">
        <button
          class="tab-btn active"
          type="button"
          data-tab="encode"
          role="tab"
          aria-selected="true"
        >
          Encode
        </button>
        <button
          class="tab-btn"
          type="button"
          data-tab="decode"
          role="tab"
          aria-selected="false"
        >
          Decode
        </button>
      </div>

      <div class="tab-panels">
        <section class="tab-panel active" data-panel="encode" role="tabpanel">
          <fieldset>
            <legend>Encode</legend>
            <label for="encode-secret">Secret</label>
            <input
              id="encode-secret"
              type="text"
              placeholder="Enter the secret"
              autocomplete="off"
            />

            <label for="encode-payload">JSON Payload</label>
            <div class="code-editor">
              <pre id="encode-payload-highlight" aria-hidden="true"></pre>
              <textarea
                id="encode-payload"
                rows="6"
                placeholder='{"sub": "1234567890", "name": "John Doe"}'
              ></textarea>
            </div>

            <div class="button-row">
              <button id="encode-reset-btn" type="button" disabled>Reset</button>
              <button id="encode-btn" type="button">Generate token</button>
            </div>
            <div id="encode-results" class="encode-results" hidden>
              <div id="encode-output-block" class="copy-block" hidden>
                <strong id="encode-output-label" hidden>JWT Token</strong>
                <output id="encode-output"></output>
                <button
                  type="button"
                  class="copy-btn"
                  data-copy-target="encode-output"
                >
                  Copy
                </button>
              </div>
              <div id="encode-error" class="error" hidden></div>
            </div>
          </fieldset>
        </section>

        <section class="tab-panel" data-panel="decode" role="tabpanel" hidden>
          <fieldset>
            <legend>Decode</legend>
            <label for="decode-token">JWT token</label>
            <textarea
              id="decode-token"
              rows="4"
              placeholder="Paste the JSON Web Token here"
            ></textarea>

            <label for="decode-secret"
              >Secret (optional, for verification)</label
            >
            <input
              id="decode-secret"
              type="text"
              placeholder="Enter the secret"
              autocomplete="off"
            />

            <div class="button-row">
              <button id="decode-reset-btn" type="button" disabled>Reset</button>
              <button id="decode-btn" type="button">Decode</button>
            </div>
            <div id="decode-results" class="decode-results" hidden>
              <div class="row two">
                <div>
                  <strong>Header</strong>
                  <div id="decoded-header-block" class="copy-block" hidden>
                    <pre id="decoded-header"></pre>
                    <button
                      type="button"
                      class="copy-btn"
                      data-copy-target="decoded-header"
                    >
                      Copy
                    </button>
                  </div>
                </div>
                <div>
                  <strong>Payload</strong>
                  <div id="decoded-payload-block" class="copy-block" hidden>
                    <pre id="decoded-payload"></pre>
                    <button
                      type="button"
                      class="copy-btn"
                      data-copy-target="decoded-payload"
                    >
                      Copy
                    </button>
                  </div>
                </div>
              </div>
              <div>
                <strong>Signature valid?</strong>
                <div id="decoded-valid-block" class="copy-block" hidden>
                  <output id="decoded-valid"></output>
                  <button
                    type="button"
                    class="copy-btn"
                    data-copy-target="decoded-valid"
                  >
                    Copy
                  </button>
                </div>
              </div>
            </div>
            <div id="decode-error" class="error" hidden></div>
          </fieldset>
        </section>
      </div>
    </main>
    <script src="jwt.js"></script>
    <script src="script.js"></script>
  </body>
</html>
